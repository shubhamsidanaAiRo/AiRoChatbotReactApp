/*===================
  Version 1.8.8
  Mega Menu for Squarespace 7.1 Websites
  This Code is licensed by Will-Myers.com 
===================*/
function MegaMenu(e,t,a,n,o,r,i,s,d){let l,m,c,u=this,h=($("#header"),$("#siteWrapper"));if(u.linkUrl=e,u.menuClone=a,u.menu=t,u.trigger=n,u.clickThrough=o,u.animation=r,u.action=i,u.showClose=s,u.mobileType=d,$(u.menuClone).addClass("wm-mega-menu-item"),h.append($(u.menuClone)),"hover"==u.action?u.action="mouseover":"click"==u.action&&(u.action="click"),u.showClose&&$(u.menuClone).addClass("show-close-button"),$(u.menuClone).append('<button aria-label="Close" class="mega-close-btn"></button>'),$(u.menuClone).find(".mega-close-btn").on("click",function(){f()}),$(u.trigger).addClass("wm-mega-menu-trigger"),$('[data-folder="root"].header-menu-nav-folder').find('a[href="'+u.linkUrl+'"]').closest(".header-menu-nav-item").addClass("mobile-mega-trigger"),"section"==u.mobileType){let e=u.menu.clone(),t=$('[data-folder="'+u.linkUrl+'"] .header-menu-nav-folder-content');t.append(e),t.addClass("has-mega-section")}function g(){m=$(".header-display-desktop .header-nav-wrapper .header-nav-item").add("#wm-subnav .header-nav-item").add(".header-actions-action--cta").add(".sqs-announcement-bar-dropzone").add("#site-title").add(".header-display-desktop .header-title-logo").add(".header-actions .header-actions-action").add(".header-actions .user-accounts-link").not(".wm-mega-menu-trigger")}function f(){$(".show-mega-menu").removeClass("show-mega-menu"),m.off("mouseenter mouseleave"),$("#header .header-announcement-bar-wrapper").removeClass("mega-menu-on"),$(".active-mega").removeClass("active-mega"),$("body").removeClass("wm-active-mega-menu")}u.clickThrough?$(u.trigger).on("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=u.clickThrough}):$(u.trigger).find("a").on("click",function(e){e.preventDefault()}),g(),u.menuClone.addClass("mega-animation-"+u.animation),$(u.menuClone).on("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),f()}),$(u.trigger).on(u.action,function(e){e.preventDefault(),e.stopPropagation(),wM.setHeaderHeight(),g(),c=setTimeout(function(){f(),$(u.menuClone).addClass("show-mega-menu"),$("#header .header-announcement-bar-wrapper").addClass("mega-menu-on"),$(u.trigger).addClass("active-mega"),$("body").addClass("wm-active-mega-menu"),m.on("mouseenter",function(){e.preventDefault(),e.stopPropagation(),l=setTimeout(function(){$(u.menuClone).removeClass("show-mega-menu"),$("#header .header-announcement-bar-wrapper").removeClass("mega-menu-on"),$(u.trigger).removeClass("active-mega"),$("body").removeClass("wm-active-mega-menu")},100)}).on("mouseleave",function(){clearTimeout(l)})},100)}).on("mouseleave",function(){clearTimeout(c)}),$("#page").on("scroll resize",function(){f()})}$("[data-mega-menu]").each(function(){let e=$(this).attr("data-mega-menu"),t=$(this).closest("#footer-sections .page-section"),a=$(t).clone().css("display","none"),n=$('#header a[href="'+e+'"]').closest(".header-nav-item").first(),o="section"==$(this).attr("data-mobile-type")?"section":"folder",r=void 0===$(this).attr("data-action")?"hover":$(this).attr("data-action"),i=void 0!==$(this).attr("data-clickthrough")&&$(this).attr("data-clickthrough"),s=void 0===$(this).attr("data-animation")?"fade":$(this).attr("data-animation"),d="true"==$(this).attr("data-show-close");$(a).find("[data-mega-menu]").closest(".sqs-block").addClass("remove-height"),$(t).addClass("footer-mega-menu"),new MegaMenu(e,t,a,n,i,s,r,d,o),$("body").addClass("tweak-wm-mega-menu")}),$("[data-mega-menu]").length&&($("head").prepend('<link href="https://assets.codepen.io/3198845/WMMegaMenu101020v1.8.8.min.css?v=2" rel="stylesheet">'),$(function(){$("[data-clickthrough]").each(function(){let e=window.location.pathname,t=$(this).attr("data-mega-menu");e==$(this).attr("data-clickthrough")&&$('#header .header-display-desktop .header-nav-wrapper [href="'+t+'"]').closest(".wm-mega-menu-trigger").addClass("header-nav-item--active")})}),$(function(){let e=$("body").hasClass("tweak-transparent-header"),t="0"==$("#sections > *").first().find(".page-section").not(".static-first").not(".swiper-slide-duplicate").first().length?$("#sections > *").first().attr("data-current-styles"):$("#sections > *").first().find(".page-section").not(".static-first").not(".swiper-slide-duplicate").first().attr("data-current-styles"),a=jQuery.parseJSON(t).sectionTheme;jQuery.parseJSON($("#header").attr("data-current-styles")).sectionTheme;e&&$("#header").addClass(a);let n=$("#sections > .page-section:first-child");if(n.length&&n.addClass("first-section-padding"),$("body.tweak-transparent-header").length){!function(){let e,t=$("#header").attr("class");$("button.header-burger-btn").on("click",function(){$("body.header--menu-open").length||$("#header").attr("class",t)}),window.addEventListener("scroll",function(a){window.clearTimeout(e),e=setTimeout(function(){t=$("#header").attr("class")},66)},!1)}()}!function(){for(var e=document.querySelectorAll(".wm-mega-menu-item img"),t=0;t<e.length;t++)ImageLoader.load(e[t],{load:!0})}(),window.self!==window.top&&$('[data-test="frameToolbarEdit"]',parent.document).on("click",function(){$(".wm-mega-menu-item").remove()})})),function(){void 0===window.wM&&(window.wM={});let e=window.wM;function t(){let t=e.header,a=document.getElementById("header"),n=document.documentElement;t.headerElem=a,t.setHeaderCSS=function(){t.headerBottom=t.headerElem.getBoundingClientRect().bottom,t.headerBottom=t.headerBottom<0?0:t.headerBottom,t.headerHeight=t.headerElem.getBoundingClientRect().height,n.style.setProperty("--wM-headerBottom",t.headerBottom+"px"),n.style.setProperty("--wM-headerHeight",t.headerHeight+"px")},t.setHeaderCSS(),t.headerElem.addEventListener("transitionend",()=>{t.setHeaderCSS()}),window.addEventListener("scroll",()=>{setTimeout(function(){t.setHeaderCSS()},150)}),window.addEventListener("DOMContentLoaded",()=>{setTimeout(function(){t.setHeaderCSS()},150)})}document.getElementById("header")&&(e.header=e.header||{},e.header.version=void 0===e.header.version?1.1:e.header.version<1.1?1.1:e.header.version,1.1==e.header.version&&t()),e.setHeaderHeight=(()=>{t()})}();